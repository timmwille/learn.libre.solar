<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Printed Circuit Board | Building DC Energy Systems</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="apple-touch-icon" sizes="180x180" href="/b/flashing_debugging/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/b/flashing_debugging/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/b/flashing_debugging/favicons/favicon-16x16.png">
    <link rel="manifest" href="/b/flashing_debugging/favicons/site.webmanifest">
    <link rel="mask-icon" href="/b/flashing_debugging/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/b/flashing_debugging/favicons/favicon.ico">
    <meta name="description" content="Open Educational Resource (OER) by Libre Solar to explain how to develop, produce and use components for DC energy systems">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/b/flashing_debugging/assets/css/0.styles.0ed2d8ae.css" as="style"><link rel="preload" href="/b/flashing_debugging/assets/js/app.7aa7c9ff.js" as="script"><link rel="preload" href="/b/flashing_debugging/assets/js/3.cf870f8e.js" as="script"><link rel="preload" href="/b/flashing_debugging/assets/js/9.281369cd.js" as="script"><link rel="preload" href="/b/flashing_debugging/assets/js/32.70270704.js" as="script"><link rel="preload" href="/b/flashing_debugging/assets/js/14.4bbf3bef.js" as="script"><link rel="prefetch" href="/b/flashing_debugging/assets/js/1.5ce743f2.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/10.7718e4f9.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/11.93f66ded.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/12.bce24717.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/13.70250085.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/15.9ab6b167.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/16.79a7c0aa.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/17.6eb7c6c9.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/18.a0e3255d.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/19.a41fac69.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/20.b597d7b6.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/21.3bdd7d5a.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/22.a8594d8c.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/23.e5afead5.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/24.e6e3e27c.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/25.043dac2c.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/26.903b69e7.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/27.8e2504ba.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/28.8f0422af.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/29.97bceced.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/30.f10bc058.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/31.35f590ed.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/33.021f4fb1.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/34.25124daa.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/35.0e02483e.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/36.6fbc16c6.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/37.5d2fa6b4.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/38.80ad7e31.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/39.69999169.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/4.77136b38.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/40.d7d3f9bb.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/41.01ac58dd.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/42.2adfbeac.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/43.3550a5d3.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/44.efb685d1.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/45.0a36caaa.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/46.3755e752.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/47.87ccea6d.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/5.bd282a17.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/6.ef8f5b1e.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/7.2748e792.js"><link rel="prefetch" href="/b/flashing_debugging/assets/js/8.73325c06.js">
    <link rel="stylesheet" href="/b/flashing_debugging/assets/css/0.styles.0ed2d8ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/b/flashing_debugging/" class="home-link router-link-active"><!----> <span class="site-name">Building DC Energy Systems</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/b/flashing_debugging/system/" class="nav-link">
  System Layout
</a></div><div class="nav-item"><a href="/b/flashing_debugging/development/" class="nav-link">
  Component Development
</a></div><div class="nav-item"><a href="/b/flashing_debugging/production/" class="nav-link router-link-active">
  Production
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/b/flashing_debugging/system/" class="nav-link">
  System Layout
</a></div><div class="nav-item"><a href="/b/flashing_debugging/development/" class="nav-link">
  Component Development
</a></div><div class="nav-item"><a href="/b/flashing_debugging/production/" class="nav-link router-link-active">
  Production
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Ordering</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/b/flashing_debugging/production/pcbs.html" aria-current="page" class="active sidebar-link">Printed Circuit Board</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/b/flashing_debugging/production/pcbs.html#native-board-files" class="sidebar-link">Native board files</a></li><li class="sidebar-sub-header"><a href="/b/flashing_debugging/production/pcbs.html#gerber-file-export" class="sidebar-link">Gerber file export</a></li></ul></li><li><a href="/b/flashing_debugging/production/stencil.html" class="sidebar-link">Stencil</a></li><li><a href="/b/flashing_debugging/production/parts.html" class="sidebar-link">Parts</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Assembly</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/b/flashing_debugging/production/smd.html" class="sidebar-link">SMD soldering</a></li><li><a href="/b/flashing_debugging/production/tht.html" class="sidebar-link">THT soldering</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Testing</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/b/flashing_debugging/production/visual_check.html" class="sidebar-link">Visual inspection</a></li><li><a href="/b/flashing_debugging/production/eol.html" class="sidebar-link">End-of-line tests</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="printed-circuit-board"><a href="#printed-circuit-board" class="header-anchor">#</a> Printed Circuit Board</h1> <p>The first step to build up the hardware is ordering a PCB. Most of the PCBs for the Libre Solar devices are too complex to be produced yourself with etching or milling processes, so the PCBs will need to be ordered from a manufacturer. This guide shows how all necessary data are obtained for the fabrication.</p> <h2 id="native-board-files"><a href="#native-board-files" class="header-anchor">#</a> Native board files</h2> <p>More and more PCB manufacturers accept native KiCad or Eagle board files and thus provide a very easy way to get the PCB produced. For KiCad, just upload the <em>.kicad_pcb</em> found in your PCB root directory and you are done.</p> <h2 id="gerber-file-export"><a href="#gerber-file-export" class="header-anchor">#</a> Gerber file export</h2> <p>Gerber is a standardized exchange format for PCBs, which is understood by all manufacturers and which can be exported with any PCB design software.</p> <p>However, the Gerber export is a bit more complicated than providing native files and needs some correct settings. We will explain the export in KiCad.</p> <p>After the board is opened in Pcbnew, the solder mask clearance and min width must be set to zero. This is important because the manufacturers normally want to define the clearance themselves based on their process. Setting it to zero makes it easier for them to shrink/enlarge the pads for the solder mask. The dialogue can be found under <em>File &gt; Board Setup</em> as shown in Figure 1.</p> <figure><center><img src="/b/flashing_debugging/images/production/pcbs_kicad_pads_clearance.png" alt="Pads and Mask Clearance dialog (KiCad v5.1.4)" height="auto" width="auto"> <figcaption><b>Figure 1.</b> Pads and Mask Clearance dialog (KiCad v5.1.4).</figcaption></center></figure> <p>After that, open the Gerber export dialog under <em>File &gt; Plot</em> and select at least the following layers for export:</p> <ul><li>Top (Top copper plane)</li> <li>GND (Internal GND plane, if existing)</li> <li>3V3 (Internal power supply plane, if existing)</li> <li>In<em>X</em>.Cu (Other internal copper planes, if existing)</li> <li>Bottom (Bottom copper plane)</li> <li>F.Silk (Front silk screen: white plots with part names, etc.)</li> <li>B.Silk (Bottom silk screen)</li> <li>F.Mask (Front solder mask: inverted surface areas for the typical green paint on the PCB)</li> <li>B.Mask (Bottom solder mask)</li> <li>Edge.Cuts (Margins along which the PCB edges should be cut, e.g. by milling)</li> <li>F.Fab (Information for parts placement on top layer)</li> <li>B.Fab (Information for parts placement on bottom layer)</li></ul> <p>Select a folder where your files should be saved and press <em>Plot</em>:</p> <figure><center><img src="/b/flashing_debugging/images/production/pcbs_kicad_gerber_export.png" alt="Gerber Export Settings (KiCad v5.1.4)" height="auto" width="auto"> <figcaption><b>Figure 2.</b> Gerber Export Settings (KiCad v5.1.4).</figcaption></center></figure> <p>After sucessful export, press <em>Generate Drill Files</em>. Then select the same output directory and make sure that <em>PTH and NPTH in single file</em> is <strong>not</strong> checked. Otherwise, your manufacturer doesn't know which holes are copper plated or not.</p> <figure><center><img src="/b/flashing_debugging/images/production/pcbs_kicad_drill_file.png" alt="Drill Files Generation (KiCad v5.1.4)" height="auto" width="auto"> <figcaption><b>Figure 3.</b> Drill Files Generation (KiCad v5.1.4).</figcaption></center></figure> <p>After that you should have all necessary files ready for the PCB production. Compress all the files (gerber and drill files) to a .zip file and send them to the manufacturer.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/LibreSolar/learn.libre.solar/edit/flashing_debugging/docs/production/pcbs.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/21/2020, 6:24:46 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/b/flashing_debugging/production/stencil.html">
        Stencil
      </a>
      →
    </span></p></div>  <div class="footer">
    Content provided by <a href="https://libre.solar">Libre Solar</a> under <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">CC-BY-SA 4.0 License</a> | <a href="https://libre.solar/about/contact/">Contact / Impressum</a></div></main></div><div class="global-ui"></div></div>
    <script src="/b/flashing_debugging/assets/js/app.7aa7c9ff.js" defer></script><script src="/b/flashing_debugging/assets/js/3.cf870f8e.js" defer></script><script src="/b/flashing_debugging/assets/js/9.281369cd.js" defer></script><script src="/b/flashing_debugging/assets/js/32.70270704.js" defer></script><script src="/b/flashing_debugging/assets/js/14.4bbf3bef.js" defer></script>
  </body>
</html>
